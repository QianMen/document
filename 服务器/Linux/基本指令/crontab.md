######crontabæ˜¯ä»€ä¹ˆ
crontabå‘½ä»¤å¸¸è§äºUnixå’Œç±»Unixçš„æ“ä½œç³»ç»Ÿä¹‹ä¸­,**ç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤**ã€‚ã€Œcrontabã€ä¸€è¯æ¥æºäºå¸Œè…Šè¯­chronos(Ï‡ÏÎ½Î¿),åŸæ„æ˜¯æ—¶é—´.

è€Œcrondæ˜¯Linuxä¸‹ç”¨æ¥å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›äº‹ä»¶çš„ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹,æ“ä½œç³»ç»Ÿé»˜è®¤ä¼šå®‰è£…æ­¤æœåŠ¡å·¥å…·ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å¯åŠ¨crondè¿›ç¨‹ï¼Œcrondè¿›ç¨‹æ¯åˆ†é’Ÿä¼šå®šæœŸæ£€æŸ¥æ˜¯å¦æœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåˆ™è‡ªåŠ¨æ‰§è¡Œè¯¥ä»»åŠ¡ã€‚

######éœ€è¦è®°ä½ä»€ä¹ˆ

ç¯å¢ƒ:```CentOS 7.0 64ä½```

#####1.crontabæ–‡ä»¶çš„ä½ç½®.

æ‰€æœ‰ç”¨æˆ·å®šä¹‰çš„crontabæ–‡ä»¶éƒ½è¢«ä¿å­˜åœ¨/var/spool/cronç›®å½•ä¸­,æ–‡ä»¶åä¸ç”¨æˆ·åä¿æŒä¸€è‡´.ä¾‹å¦‚:

ç”¨æˆ·ã€Œrootã€çš„crontabæ–‡ä»¶ä½äº:```/var/spool/cron/root```

ç”¨æˆ·ã€Œzhouã€çš„crontabæ–‡ä»¶ä½äº:```/var/spool/cron/zhou```

#####2.é»‘åå•&ç™½åå•çš„æ–‡ä»¶ä½ç½®

åç§°  |ä½ç½®           |ä½œç”¨
------|---------------|------------------------------------------------------------------------------
ç™½åå•|/etc/cron.allow|å°†å¯ä»¥ä½¿ç”¨ crontab çš„å¸å·å†™å…¥å…¶ä¸­,è‹¥ä¸åœ¨è¿™ä¸ªæ–‡ä»¶å†…çš„ä½¿ç”¨è€…åˆ™ä¸å¯ä½¿ç”¨ crontab;
é»‘åå•|/etc/cron.deny |å°†ä¸å¯ä»¥ä½¿ç”¨ crontab çš„å¸å·å†™å…¥å…¶ä¸­,è‹¥æœªè®°å½•åˆ°è¿™ä¸ªæ–‡ä»¶å½“ä¸­çš„ä½¿ç”¨è€…ï¼Œå°±å¯ä»¥ä½¿ç”¨ crontab .

ç™½åå•çš„ä¼˜å…ˆçº§é«˜äºé»‘åå•,ä½†æ˜¯ç³»ç»Ÿé»˜è®¤ä¿ç•™çš„æ˜¯é»‘åå•.å¯ä»¥å°†æŸäº›ç”¨æˆ·å†™å…¥/etc/cron.denyä¸­,ä¸€ä¸ªå¸å·ä¸€è¡Œ,è¿™æ ·è¿™äº›ç”¨æˆ·å°±ä¸èƒ½ä½¿ç”¨crontabäº†.

#####3.crontabé…ç½®æ–‡ä»¶çš„è¯­æ³•

é…ç½®æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œå…·æœ‰å…­ä¸ªæ ä½ï¼Œè¿™å…­ä¸ªæ ä½çš„æ„ä¹‰ä¸º:

æ„ä¹‰|åˆ†é’Ÿ|å°æ—¶|æ—¥æœŸ|æœˆä»½|æ˜ŸæœŸ|å‘½ä»¤
----|----|----|----|----|----|-------
èŒƒå›´|0-59|0-23|1-31|1-12|0-7 |command

å…¶ä¸­æ˜ŸæœŸå–å€¼ä¸º0å’Œ7æ—¶å‡ä»£è¡¨æ˜ŸæœŸæ—¥.

å‰äº”æ é™¤äº†å¯ä»¥å–ä¸Šè¡¨ä¸­çš„è¿™äº›å€¼å¤–,è¿˜å¯ä»¥å–ä¸‹é¢è¿™äº›ç‰¹æ®Šå‚æ•°:

ç‰¹æ®Šå­—ç¬¦|ä»£è¡¨çš„æ„ä¹‰
--------|-----------------------------------------------------------------------
    *   |ä»£è¡¨ä»»ä½•æ—¶åˆ»å‡å¯æ‰§è¡Œ.
    ,   |ä»£è¡¨åˆ†éš”æ—¶æ®µ,ä¾‹å¦‚è¦åœ¨3:00å’Œ6:00ä¸¤ä¸ªæ—¶åˆ»æ‰§è¡Œå‘½ä»¤:```0 3,6 * * * command```
    -   |ä»£è¡¨èŒƒå›´,ä¾‹å¦‚è¦åœ¨8:20,9:20,10:20ä¸‰ä¸ªæ—¶åˆ»æ‰§è¡Œå‘½ä»¤:```20 8-10 * * * command```
    /n  |ä»£è¡¨é—´éš”,ä¾‹å¦‚æ¯10åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤:```*/10 * * * * command```
    
æ³¨æ„æ—¶é—´ä¸æ˜ŸæœŸä¸èƒ½åŒæ—¶è®¾ç½®,ä¾‹å¦‚ä¸‹é¢å°±æ˜¯ä¸€ä¸ªé”™è¯¯çš„å†™æ³•:

```30 12 11 9 5 command```

æ­¤æ—¶,ç³»ç»Ÿå¯èƒ½ä¼šåˆ¤å®šåœ¨æ¯å‘¨äº”æ‰§è¡Œè¯¥å‘½ä»¤,ä¹Ÿå¯èƒ½åˆ¤å®šåœ¨æ¯å¹´çš„9æœˆ11æ—¥æ‰§è¡Œè¯¥å‘½ä»¤,è€Œéåœ¨9æœˆ11æ—¥ä¸”ä¸ºå‘¨äº”æ‰å»æ‰§è¡Œå‘½ä»¤.
    
crondæœåŠ¡çš„ç›‘æ§é—´éš”ä¸º1åˆ†é’Ÿ,å› æ­¤cronä¼šæ¯åˆ†é’Ÿå»è¯»å–ä¸€æ¬¡/etc/crontab ä¸ /var/spool/cron é‡Œé¢çš„æ•°æ®å†…å®¹.åªè¦ä½ ç¼–è¾‘å®Œ /etc/crontab è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”å°†ä»–å‚¨å­˜ä¹‹åï¼Œé‚£ä¹ˆ cron çš„é…ç½®å°±ä¼šè‡ªåŠ¨çš„è¿è¡Œäº†!

#####4.crontabå‘½ä»¤

å‘½ä»¤              |å«ä¹‰
------------------|---------------------------------------------------------------------------------------------------------
```crontab file```|```crontab opt```å°±æ˜¯å°†å½“å‰ç›®å½•ä¸‹çš„optæ–‡ä»¶å¯¼å…¥å½“å‰ç”¨æˆ·çš„crontabé…ç½®æ–‡ä»¶ä¸­.
```crontab -l```  |æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„crontabé…ç½®æ–‡ä»¶å†…å®¹.
```crontab -e```  |ç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabé…ç½®æ–‡ä»¶å†…å®¹.
```crontab -r```  |ç¼–è¾‘å½“å‰ç”¨æˆ·çš„crontabé…ç½®æ–‡ä»¶å†…å®¹.

#####5.crontabæœåŠ¡

å‘½ä»¤                       |å«ä¹‰
---------------------------|------------------------------------------------------------------------------------------------
```service crond status``` |æŸ¥çœ‹crontabæœåŠ¡çŠ¶æ€
```service crond start```  |å¯åŠ¨crontabæœåŠ¡
```service crond stop```   |å…³é—­crontabæœåŠ¡
```service crond restart```|é‡å¯crontabæœåŠ¡
```service crond reload``` |é‡è½½crontabæœåŠ¡é…ç½®

#####6.ğŸŒ°

åœ¨sample1æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹:

```* * * * * date > sample2```

æ‰§è¡Œå‘½ä»¤: ```crontab sample1```

è¿™æ ·å°±é…ç½®äº†ä¸€ä¸ªæœ€ç®€å•çš„crontab,æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤.

ç”¨```tail -f sample2```å‘½ä»¤æŸ¥çœ‹å‘½ä»¤çš„æ‰§è¡Œæƒ…å†µ:

![](http://123.57.28.146/Public/Images/201602201.png)

å¯ä»¥çœ‹åˆ°crontabå·²ç»å¯åŠ¨äº†,æ¯åˆ†é’Ÿçš„00ç§’è‡ªåŠ¨æ‰§è¡Œå‘½ä»¤.

è¾“å…¥å‘½ä»¤```crontab -r```å,crontabå°±ä¸å†æ‰§è¡Œä»»ä½•å‘½ä»¤äº†.

#####7.å‚è€ƒæ–‡ç« 

[å‚è€ƒæ–‡ç« 1](http://www.cnblogs.com/peida/archive/2013/01/08/2850483.html)

[å‚è€ƒæ–‡ç« 2](http://www.cnblogs.com/ggjucheng/archive/2012/08/19/2646763.html)

